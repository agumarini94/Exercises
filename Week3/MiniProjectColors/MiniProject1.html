<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colors</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    background: #f8f8f8;
    padding: 20px;
}
.container {
    display: grid;
    grid-template-columns: 150px 1fr;
    gap: 20px;
}
/* --- PALETA --- */
.palette {
    display: flex;
    flex-direction: column;
    gap: 20px;
}
#clear {
    width: 100%;
    padding: 15px;
    font-size: 18px;
}
.colors {
    display: grid;
    grid-template-columns: repeat(3, 40px);
    gap: 5px;
}
.color {
    width: 40px;
    height: 40px;
    border: 1px solid black;
}
/* Colores */#red {
    background-color: red;
}

#orange {
    background-color: orange;
}

#yellow {
    background-color: yellow;
}

#lime {
    background-color: lime;
}

#green {
    background-color: green;
}

#aqua {
    background-color: aqua;
}

#sky {
    background-color: skyblue;
}

#blue {
    background-color: blue;
}

#navy {
    background-color: navy;
}

#purple {
    background-color: purple;
}

#pink {
    background-color: pink;
}

#lightpink {
    background-color: lightpink;
}

#grey {
    background-color: grey;
}

#black {
    background-color: black;
}

#white {
    background-color: white;
}
/* --- TABLERO --- */
.board {
    display: grid;
    grid-template-columns: repeat(50, 1fr);
    width: 800px;
    height: 800px;
    border: 5px solid greenyellow;
    background: darkorchid;
}
.pixel {
    border: 2px solid #e0e0e0;
    background: white;
}
    </style>
</head>
<body>
    <div class="container">
        <!-- PALETA + BOTÓN CLEAR -->
        <div class="palette">
            <button id="clear">Clear</button>

            <!-- PALETA DE COLORES -->
            <div class="colors">
                <div class="color" id="red"></div>
                <div class="color" id="orange"></div>
                <div class="color" id="yellow"></div>
                <div class="color" id="lime"></div>
                <div class="color" id="green"></div>
                <div class="color" id="aqua"></div>
                <div class="color" id="sky"></div>
                <div class="color" id="blue"></div>
                <div class="color" id="navy"></div>
                <div class="color" id="purple"></div>
                <div class="color" id="pink"></div>
                <div class="color" id="lightpink"></div>
                <div class="color" id="grey"></div>
                <div class="color" id="black"></div>
                <div class="color" id="white"></div>
            </div>
        </div>

        <!-- TABLERO DE PIXELES (cuadrícula gigante) -->
        <div class="board">
            <!-- 50x50 = 2500 cuadrados -->
            <!-- Esto es sin JS, así que los pongo manualmente como ejemplo -->
            <!-- Podés copiar/pegar más para completar la cuadrícula -->
            <!-- O rellenarlo con un loop de tu lado después -->
            <div class="pixel"></div>
            <div class="pixel"></div>
            <div class="pixel"></div>
            <!-- ... repetí hasta tener los cuadrados que quieras ... -->
        </div>

    </div>
<script>


    // ---ACA ACTIVA EL GRID <== 
    function processEvents(colorRecibido) {
        startClick();
    }

    //mousedown -> its activate when the mouse is click
    function clearBoard() {
        const theBotton = document.getElementById('clear');
        theBotton.addEventListener('click', () => {
            const pixels = document.querySelectorAll('.pixel');
            pixels.forEach(pixel => {
                pixel.style.backgroundColor = 'white';
            });
        });
    }
    clearBoard();
    let botonPresionado = true;
    let isMouseDown = false;

    function startClick() {
        const boardGrid = document.querySelectorAll('.pixel');
        document.addEventListener('mousedown', () => {
            isMouseDown = true;
        });
        document.addEventListener('mouseup', () => {
            isMouseDown = false;
        });
        boardGrid.forEach(pixel => {
            pixel.addEventListener('click', () => {
                pixel.style.backgroundColor = clickedId;
            })
            pixel.addEventListener('mouseover', () => {
                if (isMouseDown) {
                    pixel.style.backgroundColor = clickedId;
                }
            })
        })
        // boardGrid.addEventListener('mouseover', () => {
        //     isMouseDown = true; 
        //         if (isMouseDown) {
        //             pixel.style.backgroundColor = clickedId;
        //         }
        //     })
        // })
        // pixel.addEventListener('mouseup', () => {
        //     isMouseDown = false; 
        // })
        //     if (clickedId) {
        //         pixel.style.backgroundColor = clickedId;
        // if (stopBotonPresionado == true) { // solté el mouse
        //     mouseFinishClick(); // detenerlo
        // }
        // else { // sino sigue
        //     if (botonPresionado == 'True') { // si tiene el botón apretado
        //         mouseIsOver();
        //     }


        // const mouseStartClick = document.querySelector('.board'); // traigo el tablero grid
        // mouseStartClick.addEventListener('mousedown', () => {

        //     newDiv.style.backgroundColor = clickedId;
        //     // alert('mouse apretado');
        //     console.log('mouse start click');
        // });

        //--- this work when finish the click ---
        // function mouseFinishClick() {
        //     const boardGrid = document.querySelectorAll('.pixel');
        //     boardGrid.forEach(pixel => {   
        //         pixel.addEventListener('mouseup', () => {
        //             pixel.style.backgroundColor = clickedId;
        //             console.log('mouse is finish to click');
        //         })
        //     })
        // }
        // const mouseFinishClick = document.querySelector('.board');
        // mouseFinishClick.addEventListener('mouseup', () => {
        //     console.log('finish to click');

        // })

        // // ---- this work when the mouse is over -----
        // function mouseIsOver(pixeles) {
        //         const boardGrid = document.querySelectorAll('.pixel');
        //         boardGrid.forEach(pixel => {   
        //     // const mouseIsOver = document.querySelector('.board');
        //             pixel.addEventListener('mouseover', () => {
        //                 pixel.style.backgroundColor = clickedId;
        //                 console.log('mouse is over');
        //             })
        //         })
        // here should look which part of the boards is 
        // alert('mouse is over');

    }

    // const mouseIsOver = document.querySelector('.board');
    // mouseIsOver.addEventListener('mouseover', () => {
    //     //here should look which part of the boards is 
    //     // alert('mouse is over');
    //     console.log('mouse is over');
    // })

    //here should do a for loop with 50 x 50 divs 
    //first need to get the board  //ESTO CREA EL BORD 
    const boardGrid = document.querySelector('.board');
    for (let row = 0; row < 50; row++) {
        for (let column = 0; column < 50; column++) {
            //create a new div
            var newDiv = document.createElement('div'); //change const -> var to can change for every place the color .
            //for each div should add a new atribute 
            newDiv.setAttribute('class', 'pixel');
            boardGrid.appendChild(newDiv);
            //now each div, should activate the function 
        }
    }

    // === ESTO CHEQUEA EN QUE PARTE DE LA PALETA CLICKEO === 
    var clickedId = null; // i make a empty value to use to keet the color 
    function selectColor() {
        //now should check wich color want the user 
        const boardColors = document.querySelectorAll('.color') //Here i get all the pallet colors 
        //need to do an evernt to keep the value of the id. 
        boardColors.forEach(color => {
            color.addEventListener('click', (e) => {
                clickedId = e.target.id;
                processEvents(clickedId); // ---> esto deberia mandarle a process event q empiece 
                // processEvents(clickedId); //activa la funcion del grid 
                console.log('click in ' + clickedId); //devuelve red, green ... 
                return (clickedId);
            });
        })
    }

    selectColor();
</script>
</body>

</html>