<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Challenge: Mad Libs</title>
 </head>
 <body>

    <h1>Mad Libs</h1>

    <form id="libform">
        <label for="noun">Noun:</label><input type="text" id="noun"><br>
        <label for="adjective">Adjective:</label><input type="text" id="adjective"><br>
        <label for="person">Someone's Name:</label><input type="text" id="person"><br>
        <label for="verb">Verb:</label><input type="text" id="verb"><br>
        <label for="place">A place:</label><input type="text" id="place"><br>
        <button id="lib-button">Lib it!</button>
    </form>

    <p>Generated story: 
    <span id="story"></span>
    </p>

    <script>

    document.querySelector("#libform").addEventListener('submit', evento => {
        evento.preventDefault();
        const nounForm = document.querySelector('#noun');
        const adjectiveForm = document.querySelector('#adjective');
        const personForm = document.querySelector('#person');
        const verbForm = document.querySelector('#verb');
        const placeForm = document.querySelector('#place');
        if (nounForm.value == '' || adjectiveForm.value == '' || personForm.value == '' || verbForm.value == '' || placeForm.value == '') {
            alert('you forgot to write some details');
        }
        else {
            alert(personForm.value + ' was working like ' + nounForm.value + ' so he convert on ' + adjectiveForm.value + ' and also he likes ' + verbForm.value + ' in diferente places, but he was thinkg go on holidays to ' + placeForm.value);

            //----> bonus <---- 
            const miFormulario = document.querySelector('#libform');

            const newBotton = document.createElement('button');
            newBotton.textContent = 'Make a new history';
            newBotton.type = 'button';
            //traigo el form y le agrego el nuevo boton 
            miFormulario.appendChild(newBotton);
            // ahora deberia hacer un evento que cuando clickea.. 
            newBotton.addEventListener('click', newHistory);
        }
        let counter = 1;

        function newHistory() {
            if (counter < 4) {
                if (counter == 1) {
                    alert(personForm.value + 'First new HISTORIA  ' + nounForm.value + ' so he convert on ' + adjectiveForm.value + ' and also he likes ' + verbForm.value + ' in diferente places, but he was thinkg go on holidays to ' + placeForm.value);
                }
                else if (counter == 2) {
                    alert(personForm.value + 'SECOND NEW HISTORY  ' + nounForm.value + ' so he convert on ' + adjectiveForm.value + ' and also he likes ' + verbForm.value + ' in diferente places, but he was thinkg go on holidays to ' + placeForm.value);
                }
                else if (counter == 3) {
                    alert(personForm.value + 'THIRD NEW HISTORY  ' + nounForm.value + ' so he convert on ' + adjectiveForm.value + ' and also he likes ' + verbForm.value + ' in diferente places, but he was thinkg go on holidays to ' + placeForm.value);
                }
                counter++; //---> el contador debe estar afuera para que se guarde y no se reinicie en 0 cada vez que itera en algun if o else if.
            }
            else {//---> esto sale de si counter = 4. 
                alert('you can click only 3 times');
            }
        }
    })
    </script>

 </body>
</html>